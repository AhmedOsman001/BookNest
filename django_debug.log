INFO 2025-05-15 21:26:58,996 autoreload 40548 20628 Watching for file changes with StatReloader
INFO 2025-05-15 21:33:19,051 autoreload 40548 20628 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\utils.py changed, reloading.
INFO 2025-05-15 21:33:22,237 autoreload 25192 24936 Watching for file changes with StatReloader
INFO 2025-05-15 21:33:28,836 autoreload 25192 24936 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\utils.py changed, reloading.
INFO 2025-05-15 21:33:31,798 autoreload 14272 19772 Watching for file changes with StatReloader
INFO 2025-05-15 21:41:09,589 autoreload 14272 19772 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\recommendation_engine.py changed, reloading.
INFO 2025-05-15 21:41:12,829 autoreload 31332 14804 Watching for file changes with StatReloader
INFO 2025-05-16 18:47:53,720 autoreload 36740 10792 Watching for file changes with StatReloader
INFO 2025-05-16 18:48:03,042 basehttp 36740 30716 "POST /api/v1/users/login/ HTTP/1.1" 200 675
WARNING 2025-05-16 18:48:13,859 log 36740 30716 Not Found: /api/v1/recommendation/api/recommendations/user-recommendations/generate/
WARNING 2025-05-16 18:48:13,860 basehttp 36740 30716 "POST /api/v1/recommendation/api/recommendations/user-recommendations/generate/ HTTP/1.1" 404 11224
WARNING 2025-05-16 18:49:10,379 log 36740 30716 Not Found: /api/v1/recommendation/recommendations/user-recommendations/generate/
WARNING 2025-05-16 18:49:10,382 basehttp 36740 30716 "POST /api/v1/recommendation/recommendations/user-recommendations/generate/ HTTP/1.1" 404 11212
INFO 2025-05-16 18:49:14,929 basehttp 36740 30716 "POST /api/v1/recommendation/user-recommendations/generate/ HTTP/1.1" 200 1799
WARNING 2025-05-16 18:49:41,817 log 36740 30716 Unauthorized: /api/v1/recommendation/user-recommendations/generate/
WARNING 2025-05-16 18:49:41,823 basehttp 36740 30716 "POST /api/v1/recommendation/user-recommendations/generate/ HTTP/1.1" 401 58
INFO 2025-05-16 18:50:10,095 basehttp 36740 30716 "POST /api/v1/recommendation/user-recommendations/generate/ HTTP/1.1" 200 1808
INFO 2025-05-16 18:51:05,279 basehttp 36740 30716 "POST /api/v1/recommendation/user-recommendations/generate/ HTTP/1.1" 200 1808
INFO 2025-05-16 18:58:55,331 basehttp 36740 39356 "GET /api/v1/recommendation/user-recommendations/ HTTP/1.1" 200 1808
INFO 2025-05-16 18:58:59,448 basehttp 36740 39356 "GET /api/v1/recommendation/user-recommendations/ HTTP/1.1" 200 1808
INFO 2025-05-16 19:22:54,328 autoreload 36740 10792 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\urls.py changed, reloading.
INFO 2025-05-16 19:23:00,795 autoreload 13940 23564 Watching for file changes with StatReloader
INFO 2025-05-16 19:23:24,472 autoreload 13940 23564 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\urls.py changed, reloading.
INFO 2025-05-16 19:23:28,575 autoreload 14048 22056 Watching for file changes with StatReloader
INFO 2025-05-16 19:23:39,464 autoreload 14048 22056 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\urls.py changed, reloading.
INFO 2025-05-16 19:23:43,106 autoreload 41832 6552 Watching for file changes with StatReloader
WARNING 2025-05-16 19:24:11,727 log 41832 23284 Not Found: /api/v1/register/
WARNING 2025-05-16 19:24:11,730 basehttp 41832 23284 "POST /api/v1/register/ HTTP/1.1" 404 3691
INFO 2025-05-16 19:24:24,576 basehttp 41832 23284 "POST /api/v1/users/register/ HTTP/1.1" 201 679
ERROR 2025-05-16 19:24:44,759 log 41832 16744 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A808FB0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A808FB0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A808FB0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:24:44,793 basehttp 41832 16744 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 328738
ERROR 2025-05-16 19:25:21,815 log 41832 16744 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A31ED80>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A31ED80>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A31ED80>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:25:21,836 basehttp 41832 16744 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 332302
ERROR 2025-05-16 19:25:33,324 log 41832 16744 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A166E10>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A166E10>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A166E10>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:25:33,350 basehttp 41832 16744 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 336276
ERROR 2025-05-16 19:25:37,648 log 41832 16744 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A9E6FF0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A9E6FF0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A9E6FF0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:25:37,659 basehttp 41832 16744 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 337540
ERROR 2025-05-16 19:25:41,356 log 41832 16744 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A33F4D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A33F4D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A33F4D0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:25:41,366 basehttp 41832 16744 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 346135
ERROR 2025-05-16 19:25:47,921 log 41832 16744 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A38CBC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A38CBC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A38CBC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:25:47,940 basehttp 41832 16744 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 350530
ERROR 2025-05-16 19:25:54,007 log 41832 16744 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A2489E0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A2489E0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A2489E0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:25:54,030 basehttp 41832 16744 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 336907
ERROR 2025-05-16 19:26:04,519 log 41832 16744 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A3A9AC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A3A9AC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A3A9AC0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:26:04,533 basehttp 41832 16744 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 333811
ERROR 2025-05-16 19:26:16,978 log 41832 16744 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A187230>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A187230>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A187230>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:26:16,988 basehttp 41832 16744 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 335049
ERROR 2025-05-16 19:29:16,068 log 41832 8532 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000020B4A9E6EA0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 156, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A9E6EA0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000020B4A9E6EA0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-16 19:29:16,081 basehttp 41832 8532 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 329219
INFO 2025-05-16 19:30:29,215 autoreload 41832 6552 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\apps.py changed, reloading.
INFO 2025-05-16 19:30:32,961 autoreload 36508 42092 Watching for file changes with StatReloader
WARNING 2025-05-16 19:32:02,604 log 36508 42072 Bad Request: /api/v1/books/rating/create/
WARNING 2025-05-16 19:32:02,605 basehttp 36508 42072 "POST /api/v1/books/rating/create/ HTTP/1.1" 400 70
WARNING 2025-05-16 19:32:37,021 log 36508 42072 Bad Request: /api/v1/books/rating/create/
WARNING 2025-05-16 19:32:37,022 basehttp 36508 42072 "POST /api/v1/books/rating/create/ HTTP/1.1" 400 66
WARNING 2025-05-16 19:36:39,321 log 36508 9304 Bad Request: /api/v1/books/rating/create/
WARNING 2025-05-16 19:36:39,323 basehttp 36508 9304 "POST /api/v1/books/rating/create/ HTTP/1.1" 400 66
INFO 2025-05-16 19:36:53,204 basehttp 36508 9304 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 201
WARNING 2025-05-16 19:42:49,865 log 36508 15144 Not Found: /api/auth/login/
WARNING 2025-05-16 19:42:49,866 basehttp 36508 15144 "POST /api/auth/login/ HTTP/1.1" 404 3688
INFO 2025-05-16 19:48:20,566 autoreload 36508 42092 A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py changed, reloading.
INFO 2025-05-16 19:48:30,257 autoreload 39640 40816 Watching for file changes with StatReloader
INFO 2025-05-16 19:49:02,190 autoreload 39640 40816 A:\web django\GradProject\New folder\BookNest\BookNest\books\urls.py changed, reloading.
INFO 2025-05-16 19:49:07,516 autoreload 22220 26440 Watching for file changes with StatReloader
INFO 2025-05-16 19:49:43,829 autoreload 22220 26440 A:\web django\GradProject\New folder\BookNest\BookNest\books\urls.py changed, reloading.
INFO 2025-05-16 19:49:49,456 autoreload 42316 37188 Watching for file changes with StatReloader
INFO 2025-05-16 19:51:16,591 autoreload 42316 37188 A:\web django\GradProject\New folder\BookNest\BookNest\books\urls.py changed, reloading.
INFO 2025-05-16 19:51:22,471 autoreload 41368 37876 Watching for file changes with StatReloader
WARNING 2025-05-16 19:53:08,892 log 41368 17772 Bad Request: /api/v1/users/login/
WARNING 2025-05-16 19:53:08,893 basehttp 41368 17772 "POST /api/v1/users/login/ HTTP/1.1" 400 37
WARNING 2025-05-16 19:53:30,982 log 41368 12420 Bad Request: /api/v1/users/login/
WARNING 2025-05-16 19:53:30,983 basehttp 41368 12420 "POST /api/v1/users/login/ HTTP/1.1" 400 37
INFO 2025-05-16 19:54:19,788 basehttp 41368 34408 "POST /api/v1/users/login/ HTTP/1.1" 200 671
WARNING 2025-05-16 19:54:19,825 log 41368 34408 Not Found: /api/v1/books/
WARNING 2025-05-16 19:54:19,829 basehttp 41368 34408 "GET /api/v1/books/ HTTP/1.1" 404 13601
INFO 2025-05-16 19:54:51,230 basehttp 41368 38040 "POST /api/v1/users/login/ HTTP/1.1" 200 671
INFO 2025-05-16 19:54:51,238 basehttp 41368 38040 "GET /api/v1/books/list?limit=500 HTTP/1.1" 301 0
WARNING 2025-05-16 19:54:53,286 log 41368 13124 Unauthorized: /api/v1/books/list/
WARNING 2025-05-16 19:54:53,287 basehttp 41368 13124 "GET /api/v1/books/list/?limit=500 HTTP/1.1" 401 58
INFO 2025-05-16 19:58:06,648 autoreload 41368 37876 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\utils.py changed, reloading.
INFO 2025-05-16 19:58:10,392 autoreload 40852 12412 Watching for file changes with StatReloader
INFO 2025-05-16 20:11:44,023 autoreload 16864 17112 Watching for file changes with StatReloader
INFO 2025-05-16 20:12:06,003 basehttp 16864 7028 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 183
INFO 2025-05-16 20:13:33,282 autoreload 16864 17112 A:\web django\GradProject\New folder\BookNest\BookNest\BookNest\settings.py changed, reloading.
INFO 2025-05-16 20:13:35,992 autoreload 20248 14048 Watching for file changes with StatReloader
INFO 2025-05-16 20:13:42,162 autoreload 20248 14048 A:\web django\GradProject\New folder\BookNest\BookNest\BookNest\settings.py changed, reloading.
INFO 2025-05-16 20:13:45,487 autoreload 22736 28760 Watching for file changes with StatReloader
INFO 2025-05-16 20:13:52,967 basehttp 22736 41156 "GET /api/v1/books/list?limit=500 HTTP/1.1" 301 0
INFO 2025-05-16 20:13:54,883 basehttp 22736 33548 "GET /api/v1/books/list/?limit=500 HTTP/1.1" 200 601366
INFO 2025-05-16 20:14:05,240 basehttp 22736 21800 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 184
INFO 2025-05-16 20:15:36,861 autoreload 22736 28760 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\apps.py changed, reloading.
INFO 2025-05-16 20:15:39,688 autoreload 24528 17316 Watching for file changes with StatReloader
INFO 2025-05-16 20:16:08,357 autoreload 24528 17316 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\apps.py changed, reloading.
INFO 2025-05-16 20:16:11,498 autoreload 4728 19272 Watching for file changes with StatReloader
INFO 2025-05-16 20:16:26,293 basehttp 4728 17316 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 204
INFO 2025-05-16 20:16:39,916 basehttp 4728 33240 "GET /api/v1/recommendation/user-recommendations/ HTTP/1.1" 200 2
INFO 2025-05-16 20:16:54,946 basehttp 4728 17316 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 217
INFO 2025-05-16 20:17:05,500 basehttp 4728 17316 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 214
INFO 2025-05-16 20:18:24,487 autoreload 21228 15780 Watching for file changes with StatReloader
WARNING 2025-05-16 20:20:21,085 log 21228 13548 Unauthorized: /api/v1/books/users/15/ratings/
WARNING 2025-05-16 20:20:21,086 basehttp 21228 13548 "GET /api/v1/books/users/15/ratings/ HTTP/1.1" 401 58
INFO 2025-05-16 20:20:36,794 basehttp 21228 13548 "GET /api/v1/books/users/15/ratings/ HTTP/1.1" 200 3284
INFO 2025-05-16 20:21:03,075 autoreload 21228 15780 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\signals.py changed, reloading.
INFO 2025-05-16 20:21:06,953 autoreload 14128 35904 Watching for file changes with StatReloader
INFO 2025-05-16 20:21:22,849 basehttp 14128 16172 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 192
INFO 2025-05-16 20:21:35,200 basehttp 14128 16172 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 245
INFO 2025-05-16 20:21:57,189 basehttp 14128 16172 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 223
INFO 2025-05-16 20:22:03,922 basehttp 14128 16172 "GET /api/v1/books/users/15/ratings/ HTTP/1.1" 200 3947
INFO 2025-05-16 20:22:09,330 basehttp 14128 16172 "GET /api/v1/books/users/15/ratings/ HTTP/1.1" 200 3947
INFO 2025-05-16 20:22:23,361 basehttp 14128 16172 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 183
INFO 2025-05-16 20:25:11,210 autoreload 14128 35904 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\signals.py changed, reloading.
INFO 2025-05-16 20:25:15,127 autoreload 33804 37472 Watching for file changes with StatReloader
INFO 2025-05-16 20:25:19,960 autoreload 33804 37472 A:\web django\GradProject\New folder\BookNest\BookNest\recommendation\signals.py changed, reloading.
INFO 2025-05-16 20:25:24,313 autoreload 35616 20044 Watching for file changes with StatReloader
WARNING 2025-05-16 20:25:28,593 log 35616 40772 Unauthorized: /api/v1/books/rating/create/
WARNING 2025-05-16 20:25:28,594 basehttp 35616 40772 "POST /api/v1/books/rating/create/ HTTP/1.1" 401 172
WARNING 2025-05-16 20:25:41,142 log 35616 40772 Unauthorized: /api/v1/books/rating/create/
WARNING 2025-05-16 20:25:41,143 basehttp 35616 40772 "POST /api/v1/books/rating/create/ HTTP/1.1" 401 172
WARNING 2025-05-16 20:25:44,111 log 35616 39548 Bad Request: /api/v1/users/register/
WARNING 2025-05-16 20:25:44,112 basehttp 35616 39548 "POST /api/v1/users/register/ HTTP/1.1" 400 58
INFO 2025-05-16 20:25:51,265 basehttp 35616 39548 "POST /api/v1/users/login/ HTTP/1.1" 200 679
INFO 2025-05-16 20:26:00,336 basehttp 35616 40772 "POST /api/v1/books/rating/create/ HTTP/1.1" 201 182
INFO 2025-05-17 18:54:57,804 autoreload 37772 43312 Watching for file changes with StatReloader
INFO 2025-05-17 18:55:14,398 basehttp 37772 15292 "GET /api/v1/books/list?limit=500 HTTP/1.1" 301 0
WARNING 2025-05-17 18:55:14,966 log 37772 43528 Unauthorized: /api/v1/books/list/
WARNING 2025-05-17 18:55:14,969 basehttp 37772 43528 "GET /api/v1/books/list/?limit=500 HTTP/1.1" 401 172
INFO 2025-05-17 18:55:22,677 basehttp 37772 43528 "POST /api/v1/users/login/ HTTP/1.1" 200 679
INFO 2025-05-17 18:55:25,121 basehttp 37772 43528 "GET /api/v1/books/list?limit=500 HTTP/1.1" 301 0
INFO 2025-05-17 18:55:27,173 basehttp 37772 49544 "GET /api/v1/books/list/?limit=500 HTTP/1.1" 200 605040
ERROR 2025-05-17 18:55:58,712 log 37772 49240 Internal Server Error: /api/v1/books/rating/create/
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 174, in _new_conn
    conn = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 95, in create_connection
    raise err
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 255, in perform_request
    response = self.pool.urlopen(
               ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 802, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\util\retry.py", line 527, in increment
    raise six.reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\packages\six.py", line 770, in reraise
    raise value
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 716, in urlopen
    httplib_response = self._make_request(
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connectionpool.py", line 416, in _make_request
    conn.request(method, url, **httplib_request_kw)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 244, in request
    super(HTTPConnection, self).request(method, url, body=body, headers=headers)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1319, in request
    self._send_request(method, url, body, headers, encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1365, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1314, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1074, in _send_output
    self.send(msg)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\http\client.py", line 1018, in send
    self.connect()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 205, in connect
    conn = self._new_conn()
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\urllib3\connection.py", line 186, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000024CAD48C410>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\generics.py", line 194, in post
    return self.create(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\mixins.py", line 19, in create
    self.perform_create(serializer)
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\views\review_views.py", line 157, in perform_create
    serializer.save(user=self.request.user, book=book)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\rest_framework\serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\web django\GradProject\New folder\BookNest\BookNest\books\serializers\review_serializers.py", line 83, in create
    book.save()
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 891, in save
    self.save_base(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\db\models\base.py", line 1012, in save_base
    post_save.send(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django\dispatch\dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\signals.py", line 61, in handle_save
    registry.update(instance)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\registries.py", line 141, in update
    doc().update(instance, **kwargs)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 259, in update
    return self._bulk(
           ^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 236, in _bulk
    return self.bulk(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\django_elasticsearch_dsl\documents.py", line 178, in bulk
    response = bulk(client=self._get_connection(), actions=actions, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 410, in bulk
    for ok, item in streaming_bulk(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 329, in streaming_bulk
    for data, (ok, info) in zip(
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 256, in _process_bulk_chunk
    for item in gen:
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 195, in _process_bulk_chunk_error
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\helpers\actions.py", line 240, in _process_bulk_chunk
    resp = client.bulk(*args, body="\n".join(bulk_actions) + "\n", **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\utils.py", line 347, in _wrapped
    return func(*args, params=params, headers=headers, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\client\__init__.py", line 472, in bulk
    return self.transport.perform_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 417, in perform_request
    self._do_verify_elasticsearch(headers=headers, timeout=timeout)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 606, in _do_verify_elasticsearch
    raise error
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\transport.py", line 569, in _do_verify_elasticsearch
    _, info_headers, info_response = conn.perform_request(
                                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\elasticsearch\connection\http_urllib3.py", line 280, in perform_request
    raise ConnectionError("N/A", str(e), e)
elasticsearch.exceptions.ConnectionError: ConnectionError(<urllib3.connection.HTTPConnection object at 0x0000024CAD48C410>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it) caused by: NewConnectionError(<urllib3.connection.HTTPConnection object at 0x0000024CAD48C410>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it)
ERROR 2025-05-17 18:55:58,730 basehttp 37772 49240 "POST /api/v1/books/rating/create/ HTTP/1.1" 500 332329
INFO 2025-05-17 18:56:15,194 basehttp 37772 49544 "GET /api/v1/recommendation/user-recommendations/ HTTP/1.1" 200 1648
